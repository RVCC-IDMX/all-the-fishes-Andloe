<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All The Fishes</title>
    <script src="https://pixijs.download/release/pixi.js"></script>
</head>
<body>
    <script>

        //The App
        var app = new PIXI.Application({
            width:640,
            height:480,
            backgroundColor: 0x3480eb
        });

        //Add view to the document
        document.body.appendChild(app.view);

        //My first sprite
        let fish1 = PIXI.Sprite.from("img/greenfish.png");
            fish1.width = 200;
            fish1.height = 200;
            fish1.y = 0;
            fish1.x = 50;
            fish1.anchor.set(.5);

        //Add it to the stage
        app.stage.addChild(fish1);

         //My second sprite
        let fish2 = PIXI.Sprite.from("img/clownfish.png");
            fish2.y = 0;
            fish2.x = 450;
            fish2.anchor.set(.5);
            fish2.scale.set(.10);

        //Add it to the stage
        app.stage.addChild(fish2);
        
        //My third sprite 
        let fish3 = PIXI.Sprite.from("img/snaperfish.png");
            fish3.y = 0;
            fish3.x = 280;
            fish3.anchor.set(.5);
            fish3.scale.set(.20);

        //Add it to the stage
        app.stage.addChild(fish3);

        //Adding background elements
        let algae1 = PIXI.Sprite.from("img/algae1.png");
            algae1.y = 350;
            algae1.x = 600;
            algae1.anchor.set(.5);
            algae1.scale.set(.100);

        //Add it to the stage
        app.stage.addChild(algae1);

        let blueAlgae = PIXI.Sprite.from("img/blue-algae.png");
            blueAlgae.y = 350;
            blueAlgae.x = 320;
            blueAlgae.anchor.set(.5);
            blueAlgae.scale.set(.5);

        //Add it to the stage
        app.stage.addChild(blueAlgae);

        let coral = PIXI.Sprite.from("img/coral.png");
            coral.y = 300;
            coral.x = 100;
            coral.anchor.set(.5);
            coral.scale.set(.15);

        //Add it to the stage
        app.stage.addChild(coral);

        let seaPlants = PIXI.Sprite.from("img/sea-plants.png");
            seaPlants.y = 350;
            seaPlants.x = 280;
            seaPlants.anchor.set(.5);
            seaPlants.scale.set(.5);

        //Add it to the stage
        app.stage.addChild(seaPlants);


    

        //My container 
        var my_container = new PIXI.Container();
            my_container.addChild(fish1);
            my_container.addChild(fish2);
            my_container.addChild(fish3);
            my_container.x = 100;
            my_container.y = 240;

        app.stage.addChild(my_container);

        //Animation loop
        function animationLoop() {

            let time = Date.now();

            let wobble1 = Math.sin(time/1000)*20;
            let wobble2 = Math.sin(time/250)*20;
            let wobble3 = Math.sin(time/500)*20;

            fish1.y = wobble1;
            fish2.y = wobble2;
            fish3.y = wobble3;

            setTimeout(animationLoop, 1000/30);
        }
        animationLoop();

    </script>

</body>
</html>